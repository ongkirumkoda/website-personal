# ==============================================
# SIRAGA .htaccess Configuration
# ==============================================

<IfModule mod_rewrite.c>
    RewriteEngine On
    
    # Set base directory
    # PENTING: Sesuaikan dengan lokasi folder Anda
    # Jika di http://localhost/siraga/ gunakan: RewriteBase /siraga/
    # Jika di http://localhost/ gunakan: RewriteBase /
    RewriteBase /siraga/
    
    # Jika file atau direktori ada, jangan redirect
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    
    # Redirect semua request ke index.php
    RewriteRule ^(.*)$ index.php?url=$1 [QSA,L]
</IfModule>

# ==============================================
# Security Settings
# ==============================================

# Proteksi .env file
<Files .env>
    Order allow,deny
    Deny from all
</Files>

# Proteksi .htaccess
<Files .htaccess>
    Order allow,deny
    Deny from all
</Files>

# Proteksi file config
<FilesMatch "^\.">
    Order allow,deny
    Deny from all
</FilesMatch>

# ==============================================
# PHP Settings (Development Mode)
# ==============================================

php_flag display_errors on
php_value error_reporting E_ALL
php_value max_execution_time 300
php_value upload_max_filesize 10M
php_value post_max_size 10M

# ==============================================
# Character Encoding
# ==============================================

AddDefaultCharset UTF-8

# ==============================================
# Compression
# ==============================================

<IfModule mod_deflate.c>
    AddOutputFilterByType DEFLATE text/plain
    AddOutputFilterByType DEFLATE text/html
    AddOutputFilterByType DEFLATE text/xml
    AddOutputFilterByType DEFLATE text/css
    AddOutputFilterByType DEFLATE application/xml
    AddOutputFilterByType DEFLATE application/xhtml+xml
    AddOutputFilterByType DEFLATE application/rss+xml
    AddOutputFilterByType DEFLATE application/javascript
    AddOutputFilterByType DEFLATE application/x-javascript
</IfModule>

# ==============================================
# Security Headers
# ==============================================

<IfModule mod_headers.c>
    Header set X-Content-Type-Options "nosniff"
    Header set X-Frame-Options "SAMEORIGIN"
    Header set X-XSS-Protection "1; mode=block"
    Header set Referrer-Policy "no-referrer-when-downgrade"
</IfModule>

# ==============================================
# MIME Types
# ==============================================

<IfModule mod_mime.c>
    AddType application/javascript js
    AddType text/css css
</IfModule>

# ==============================================
# Error Pages (Optional)
# ==============================================

# ErrorDocument 404 /siraga/error/404
# ErrorDocument 500 /siraga/error/500
